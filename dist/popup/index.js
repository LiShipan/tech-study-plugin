let e;const t=new WeakMap,a=new WeakMap,n=a=>{if(!e)return;let n=t.get(a);if(!n){n=new Map;const i=new Set;return i.add(e),n.set("value",i),void t.set(a,n)}let i=n.get("value");if(!i)return i=new Set,i.add(e),n.set("value",i),void t.set(a,n);i.add(e)};function i(e,n,i,o){if(!a.get(e))return;const s=t.get(e);if(!s)return;let c=s.get(n);if(c)for(const e of c)e(i,o)}var o;!function(e){e.IS_REF="_isRef",e.IS_SHALLOW="_isShallow",e.IS_REACTIVE="_isReactive",e.IS_READONLY="_isReadonly"}(o||(o={}));class s{_isShallow=!1;_isRef=!0;_value;value;constructor(e,a=!1){const i=this;if(this._isShallow=a,e&&"object"==typeof e&&a){const t=y(e);this._value=t,this.value=e}else this._value=e,this.value=e;Object.defineProperty(this,"value",{get(){return n(this),i._value},set(e){const a=this._value;a!==e&&(i._value=e,function(e,a,n){const i=t.get(e);if(!i)return;let o=i.get("value");if(o)for(const e of o)e instanceof Function&&e(a,n)}(this,e,a))}})}toJSON(){return this._value}}const c=e=>!(!e||!e[o.IS_REF]),l=(e,t)=>new s(e,t),r=e=>c(e)?e.value:e,d=e=>c(e)?e:l(e,!0),u=e=>c(e)?e:l(e,!1),v=(n,i)=>function(s,l,r){if(l===o.IS_REACTIVE)return!n;if(l===o.IS_READONLY)return n;if(l===o.IS_SHALLOW)return i;const d=Reflect.get(s,l,r);return n||((n,i)=>{if(!e)return;if(!a.get(n))return;let o=t.get(n);if(!o){o=new Map;const a=new Set;return a.add(e),o.set(i,a),void t.set(n,o)}let s=o.get(i);if(!s)return s=new Set,s.add(e),o.set(i,s),void t.set(n,o);s.add(e)})(s,l),i?d:c(d)?d.value:d&&"object"==typeof d?d instanceof Element?d:n?m(d):y(d):d},p=(e,t)=>function(a,n,o,s){if(e)return!1;const l=a[n];if(f(l)&&c(l)&&!c(o))return!1;if(!t&&c(l)&&!c(o))return l.value=o,!0;const r=Reflect.set(a,n,o,s);return Array.isArray(a)&&"length"===n?(i(a,n,o,l),r):(l!==o&&i(a,n,o,l),r)},g=(e,t,n)=>{const i=a.get(e);if(i)return i;const o=new Proxy(e,((e,t)=>({get:v(e,t),set:p(e,t)}))(t,n));return a.set(e,o),o},f=e=>!(!e||!e[o.IS_READONLY]),h=e=>{return!(!(t=e)||!t[o.IS_REACTIVE])||f(e);var t},y=e=>(e=>g(e,!1,!1))(e),m=e=>(e=>g(e,!0,!1))(e),w=(t,a,i=!1)=>{if(i&&a(r(t),r(t)),Array.isArray(t)&&t.every((e=>c(e)))){for(const e in t)h(t[e])&&w(t[e],(()=>{const e=t.map((e=>r(e)));a(e,e)}));w((()=>t.map((e=>r(e)))),a)}else if(t instanceof Function)w(x(t),((e,t)=>{a(r(e),r(t))}));else{if(!h(t))return c(t)?(h(t.value)&&w(t.value,(()=>{a(r(t),r(t))})),e=a,n(t),void(e=void 0)):void 0;for(const n in t){e=()=>{a(t,t)};const i=t[n];e=void 0,w(i,(()=>{a(t,t)}))}}},b=t=>{e=t,t(),e=void 0},_=(e,t)=>{const a=u(t());return w(e,(()=>a.value=r(t()))),a},x=e=>{const t=u(void 0);return b((()=>t.value=r(e()))),t};function M(e,t,a,n,i){const o=d(!1),s=d(!1),c=d(!1),l=d(!1),{onCreated:r,beforeCreat:u,onMounted:v,beforeMount:p,beforeDestroy:g,onDestroyed:f}=i||{},h=e=>{const{onMounted:t,beforeMount:a,beforeDestroy:n,onDestroyed:i}=e;a&&w(o,(()=>{o.value&&a()}),!0),t&&w(s,(()=>{s.value&&t()}),!0),n&&w(c,(()=>{c.value&&n()}),!0),i&&w(l,(()=>{l.value&&i()}),!0)};u&&u();const y=document.createElement(e);k(y,t),E(y,a,h),I(y,n,h,(e=>{}));return r&&r(),{ele:y,beforeMount:()=>{o.value=!0,p&&p()},onMounted:()=>{s.value=!0,v&&v()},beforeDestroy:()=>{c.value=!0,g&&g()},onDestroyed:()=>{l.value=!0,f&&f()}}}function S(e,t,a,n,i){const o=d(!1),s=d(!1),c=d(!1),l=d(!1),{onCreated:r,beforeCreat:u,onMounted:v,beforeMount:p,beforeDestroy:g,onDestroyed:f}=i||{},h=e=>{const{onMounted:t,beforeMount:a,beforeDestroy:n,onDestroyed:i}=e;a&&w(o,(()=>{o.value&&a()}),!0),t&&w(s,(()=>{s.value&&t()}),!0),n&&w(c,(()=>{c.value&&n()}),!0),i&&w(l,(()=>{l.value&&i()}),!0)};u&&u();const y=document.createElementNS("http://www.w3.org/2000/svg",e);k(y,t),E(y,a,h),I(y,n,h,(e=>{}));return r&&r(),{ele:y,beforeMount:()=>{o.value=!0,p&&p()},onMounted:()=>{s.value=!0,v&&v()},beforeDestroy:()=>{c.value=!0,g&&g()},onDestroyed:()=>{l.value=!0,f&&f()}}}function k(e,t){for(const a in t)if(c(t[a])){const n=t[a];b((()=>e[a]=n.value))}else e[a]=t[a]}function E(e,t,a,n){if(t)for(const n in t)C(e,n,t[n],a)}function C(e,t,a,n,i){const o=t.toLowerCase();if(o.startsWith("on")){const[t]=o.match(/(?<=on).*/);if(t){const[n,...i]=t.split("_"),o=function(e){if(e.length)return{capture:e.includes("capture"),once:e.includes("once"),passive:e.includes("passive")}}(i);if(c(a)){const t=a,s=_(t,(()=>t.value?e=>{i.includes("prevent")&&e.preventDefault(),i.includes("stop")&&e.stopPropagation();(0,t.value)(e)}:void 0));return s.value&&e.addEventListener(n,s.value,o),void w(s,((t,a)=>{a&&e.removeEventListener(n,a),t&&e.addEventListener(n,t,o)}))}a instanceof Function&&e.addEventListener(n,a,o)}return}if(["checked","selected","disabled","enabled"].includes(o)){if(c(a)){const t=a;return void b((()=>{t.value?e.setAttribute(o,""):e.removeAttribute(o)}))}a?e.setAttribute(o,""):e.removeAttribute(o)}else if("ref"!==t)if(t.startsWith("xlink:")){const n="http://www.w3.org/1999/xlink";a?e.setAttributeNS(n,t,a):e.removeAttributeNS(n,t)}else if(t&&c(a)){const n=a;b((()=>{e.setAttribute(t,n.value)}))}else t&&e.setAttribute(t,a);else{if(c(a)){const t=a;return void(n&&n({onMounted(){t.value=e}}))}if(a instanceof Function){const t=a;return void(n&&n({onMounted(){t(e)}}))}}}function I(e,t,a,n){if(c(t)){const i=document.createComment("");if(w(t,(async(t,o)=>{if(t||!o)if(t){if(o){if(o instanceof Promise){const e=await o;e&&e.forEach((e=>{n&&n(e),e.beforeDestroy&&e.beforeDestroy()}))}o instanceof Promise||o.forEach((e=>{n&&n(e),e.beforeDestroy&&e.beforeDestroy()}))}if(t instanceof Promise){const n=await t;if(n){const t=n.map((e=>((e.beforeMount||e.onMounted)&&a&&a(e),e.ele)));e.replaceChildren(R(t))}return}const i=t.map((e=>((e.beforeMount||e.onMounted)&&a&&a(e),e.ele)));if(e.replaceChildren(R(i)),o){if(o instanceof Promise){const e=await o;e&&e.forEach((e=>{e.onDestroyed&&e.onDestroyed()}))}o instanceof Promise||o.forEach((e=>{e.onDestroyed&&e.onDestroyed()}))}}else;else{if(o instanceof Promise){const e=await o;e&&e.forEach((e=>{n&&n(e),e.beforeDestroy&&e.beforeDestroy()}))}if(o instanceof Promise||o.forEach((e=>{n&&n(e),e.beforeDestroy&&e.beforeDestroy()})),e.replaceChildren(i),o instanceof Promise){const e=await o;e&&e.forEach((e=>{e.onDestroyed&&e.onDestroyed()}))}o instanceof Promise||o.forEach((e=>{e.onDestroyed&&e.onDestroyed()}))}})),t.value instanceof Promise)return e.appendChild(i),void t.value.then((t=>{if(t){const n=t.map((e=>((e.beforeMount||e.onMounted)&&a&&a(e),e.ele)));e.replaceChildren(R(n))}}));if(t.value){const n=t.value.map((e=>((e.beforeMount||e.onMounted)&&a&&a(e),e.ele)));return void e.appendChild(R(n))}e.appendChild(i)}else{if(t instanceof Promise){const n=document.createComment("");return e.appendChild(n),void t.then((e=>{if(e){const{beforeMount:t,onMounted:i}=e;(t||i)&&a&&a(e),n.replaceWith(e.ele)}}))}if(Array.isArray(t)){const i=[];for(const e in t){const o=t[e];if(c(o)){const t=document.createComment("");if(w(o,(async(e,i)=>{if(e||!i)if(!e||i){if(e&&i){if(e instanceof Promise&&i instanceof Promise){return void A(await e,await i,t,a,n)}if(e instanceof Promise&&!(i instanceof Promise)){return void A(await e,i,t,a,n)}if(!(e instanceof Promise)&&i instanceof Promise){return void A(e,await i,t,a,n)}if(!(i instanceof Promise||e instanceof Promise))return void A(e,i,t,a,n)}}else{if(e instanceof Promise){const o=await e;return void(o&&A(o,i,t,a,n))}A(e,i,t,a,n)}else{if(i instanceof Promise){const o=await i;return void(o&&A(e,o,t,a,n))}A(e,i,t,a,n)}})),o.value instanceof Promise){i[e]={ele:t},o.value.then((e=>{if(e){const{beforeMount:n,onMounted:i}=e;(n||i)&&a&&a(e),t.replaceWith(e.ele)}}));continue}if(o.value){const{beforeMount:t,onMounted:a,ele:n}=o.value;i[e]={ele:n,beforeMount:t,onMounted:a};continue}i[e]={ele:t}}else if(o instanceof Promise){const t=document.createComment("");i[e]={ele:t},o.then((e=>{if(e){const{beforeMount:n,onMounted:i}=e;(n||i)&&a&&a(e),t.replaceWith(e.ele)}}))}else if(o){const{beforeMount:t,onMounted:a,ele:n}=o;i[e]={ele:n,beforeMount:t,onMounted:a}}}const o=i.map((e=>((e.beforeMount||e.onMounted)&&a&&a(e),e.ele)));e.appendChild(R(o))}else if(t){const{beforeMount:n,onMounted:i}=t;return(n||i)&&a&&a(t),void e.appendChild(t.ele)}}}function A(e,t,a,n,i){if(e&&t){const{beforeMount:a,onMounted:i}=e;return(a||i)&&n&&n(e),t.beforeDestroy&&t.beforeDestroy(),t.ele.replaceWith(e.ele),void(t.onDestroyed&&t.onDestroyed())}if(e&&!t){const{beforeMount:t,onMounted:i}=e;return(t||i)&&n&&n(e),void a.replaceWith(e.ele)}if(!e&&t)return i&&i(t),t.beforeDestroy&&t.beforeDestroy(),t.ele.replaceWith(a),void(t.onDestroyed&&t.onDestroyed())}function D(e,t){const{onCreated:a,beforeCreat:n,onMounted:i,beforeMount:o,onDestroyed:s,beforeDestroy:l}=t||{};if(n&&n(),c(e)){const t=e,n=document.createTextNode("");return b((()=>{n.data=t.value})),a&&a(),{ele:n,beforeMount:o,onMounted:i,onDestroyed:s,beforeDestroy:l}}return a&&a(),{ele:document.createTextNode(String(e)),beforeMount:o,onMounted:i,beforeDestroy:l,onDestroyed:s}}async function T(e,t=document.body){if(e instanceof Promise){const{ele:a,beforeMount:n,onMounted:i}=await e;return void(a&&t&&(n&&n(),t.appendChild(a),i&&i()))}const{ele:a,beforeMount:n,onMounted:i}=e;a&&t&&(n&&n(),t.appendChild(a),i&&i())}function R(e){const t=document.createDocumentFragment();for(const a in e)t.appendChild(e[a]);return t}const P={version:"1.0.0-alpha.3",name:"tech-study-plugin"};function $(e,t){let a=-1;return function(...n){-1!==a&&clearTimeout(a),a=setTimeout((()=>{e.apply(this,n)}),t)}}function L(e){let t=Number(e);return Number.isInteger(t)||(t=1e3),new Promise((e=>{setTimeout((()=>{e()}),t)}))}function O(e=0,t){let a=e,n=-1,i=!1;return{wait:()=>new Promise((e=>{n=setInterval((async()=>(t&&await t(a,i),i||a<=0?(clearInterval(n),void e(void 0)):void a--)),1e3)})),cancel(){a<=0||(i=!0)}}}function W(e,t){return new Promise((a=>{const n=setInterval((async()=>{await e()&&(t&&clearTimeout(i),clearInterval(n),a(!0))}),500);if(!t)return;const i=setTimeout((()=>{clearInterval(n),a(!1)}),t)}))}function H(e){return{x:e.border[0],y:e.border[1],width:e.width,height:e.height}}function N(e){const t=Math.random().toString(32).slice(2,e).padEnd(e,"0");return e<=8?t:`${t}${N(e-8)}`}function z({paths:e,viewBox:t="0 0 1024 1024"}){return S("svg",void 0,{viewBox:t,class:"egg_icon"},e.map((e=>S("path",void 0,{d:e}))))}class q{id;title;message;type;active=!1;destroyed=!1;mounted=!1;removed=!1;keep;delay;constructor(e){const t=N(8);this.id=t;const{title:a,message:n,type:i,delay:o,keep:s}=e;this.title=a,this.message=n,this.type=i,this.delay=o||2e3,this.keep=s||!1}show(){return this.active=!0,this.keep||setInterval((()=>{this.destroy()}),this.delay),this}async destroy(){if(!this.destroyed){this.active=!1,this.destroyed=!0;let e=setInterval((async()=>{const t=j.filter((e=>e.destroy));if(t[0].removed||t[0].id===this.id&&this.mounted){clearInterval(e),await L(300);const t=j.findIndex((e=>e.id===this.id));j.splice(t,1)}}),300)}}update(e){const t=j.find((e=>e.id===this.id));if(t){const{title:a,message:n}=e;void 0!==a&&(t.title=a),void 0!==n&&(t.message=n)}return this}}const j=y([]);const B=()=>({create(e){const t=new q(e);return j.push(t),t},clear(){j.forEach((e=>e.destroy()))}}),U={home:"https://www.xuexi.cn/",examPractice:"https://pc.xuexi.cn/points/exam-practice.html",examPaper:"https://pc.xuexi.cn/points/exam-paper-detail.html"};var V,F,G,X;async function K(){const e=await chrome.windows.getCurrent(),t=e.id,a=d(e.height),n=d(e.width),i=d(e.left),o=d(e.top),s=d(e.focused),c=d(e.state);return w(a,(()=>{chrome.windows.update(t,{height:a.value})})),w(n,(()=>{chrome.windows.update(t,{width:n.value})})),w(i,(()=>{chrome.windows.update(t,{left:i.value})})),w(o,(()=>{chrome.windows.update(t,{top:o.value})})),w(s,(()=>{chrome.windows.update(t,{focused:s.value})})),w(c,(()=>{chrome.windows.update(t,{state:c.value})})),{height:a,width:n,left:i,top:o,focused:s,state:c}}!function(e){e[e.VIDEO_MUTED=0]="VIDEO_MUTED",e[e.RANDOM_EXAM=1]="RANDOM_EXAM",e[e.AUTO_ANSWER=2]="AUTO_ANSWER",e[e.REMOTE_PUSH=3]="REMOTE_PUSH"}(V||(V={})),function(e){e[e.LOGIN=0]="LOGIN",e[e.READ=1]="READ",e[e.WATCH=2]="WATCH",e[e.PRACTICE=3]="PRACTICE"}(F||(F={})),function(e){e[e.LOADING=0]="LOADING",e[e.START=1]="START",e[e.PROGRESS=2]="PROGRESS",e[e.PAUSE=3]="PAUSE",e[e.FINISH=4]="FINISH"}(G||(G={})),function(e){e[e.READ=0]="READ",e[e.WATCH=1]="WATCH"}(X||(X={}));const Y=(e,t,a)=>{const{once:n}=a||{},i=(a,i)=>{if(e===a)return t(a,i),void(n&&o())},o=()=>{chrome.tabs.onRemoved.removeListener(i)};return chrome.tabs.onRemoved.addListener(i),o},{notify:J}=(()=>{let e=[];const t=$((()=>{const t=e;chrome.notifications.create({iconUrl:"../assets/icon.jpg",title:"提示",message:"",items:t.map((({message:e,title:t})=>({message:e,title:t}))),type:"list"}),e=[]}),500);return{notify(a){if(void 0!==a.id){const t=e.findIndex((e=>void 0!==e.id&&e.id===a.id));t+1&&e.splice(t,1)}e.push(a),t()}}})(),Q={tabId:d(0),login:d(!1),themeColor:d("#fa3333"),settings:y([!1,!1,!1,!1]),taskConfig:y([{title:"登录",currentScore:0,dayMaxScore:0,need:0,status:!1,tip:"每日首次登录积1分。",active:!0,disabled:!0,type:F.LOGIN},{title:"文章选读",currentScore:0,dayMaxScore:0,need:0,status:!1,tip:"每有效阅读一篇文章积1分，上限6分。有效阅读文章累计1分钟积1分，上限6分。每日上限积12分。",active:!0,disabled:!1,type:F.READ},{title:"视听学习",currentScore:0,dayMaxScore:0,need:0,status:!1,tip:"每有效一个音频或观看一个视频积1分，上限6分。有效收听音频或观看视频累计1分钟积1分，上限6分。每日上限积12分。",active:!0,disabled:!1,type:F.WATCH},{title:"每日答题",currentScore:0,dayMaxScore:0,need:0,status:!1,tip:"每组答题每答对1道积1分。每日上限积5分。",active:!0,disabled:!1,type:F.PRACTICE}]),isBlack:d(!1),todayScore:d(0),totalScore:d(0),maxRead:d(80),maxWatch:d(100),message:d(""),pushToken:d(""),userInfo:d(null),notify:J};function Z(e){return e<10?`0${e}`:`${e}`}function ee(e=Date.now()){const t=new Date(e),a=t.getSeconds(),n=t.getMinutes(),i=t.getHours(),o=t.getDate(),s=t.getMonth()+1;return`${[t.getFullYear(),s,o].map(Z).join("-")} ${[i,n,a].map(Z).join(":")}`}function te(...e){ne("dodgerblue",...e)}function ae(...e){ne("red",...e)}function ne(e,...t){const a=t.map((e=>!(e instanceof Function)&&e instanceof Object?e instanceof Error?e.stack:JSON.stringify(e):String(e))).join(" ");console.log(`%c[${ee()}] %c${a}`,"",`color: ${e}`)}async function ie(e,t){const{data:a,type:n}=t;return"tab"===n?await chrome.tabs.sendMessage(t.id,{data:a,action:e}):"runtime"===n?await chrome.runtime.sendMessage({data:a,action:e}):void 0}function oe(e,t,a){const{once:n}=a||{},i=(a,i,s)=>{const{action:c,data:l}=a;if(c&&e===c)return t(l,i,s),void(n&&o())},o=()=>{chrome.runtime.onMessage.removeListener(i)};return chrome.runtime.onMessage.addListener(i),o}function se(e,t){return new Promise((async(a,n)=>{const i=setTimeout((()=>{o(),n("请求超时!")}),t.timeout||6e3),o=oe(e,(e=>{clearTimeout(i),o(),a(e)}));try{await ie(e,t)}catch(e){n(e)}}))}const ce=()=>chrome.storage.local,le=(e,t)=>{const a="object"==typeof t?JSON.parse(JSON.stringify(t)):t;return ce().set({[e]:a})},re=async e=>(await ce().get(e))[e],de=(e,t,a)=>{const{once:n}=a||{},i=ce();let o=!1;const s=a=>{if(e in a){const{newValue:i,oldValue:o}=a[e];t(i,o),n&&c()}},c=()=>{o||(o=!0,i.onChanged.removeListener(s))};return i.onChanged.addListener(s),c};function ue({text:e}){return M("div",void 0,{class:"egg_hr_wrap"},[M("div",void 0,{class:"egg_hr"}),M("div",void 0,{class:"egg_hr_title"},D(e)),M("div",void 0,{class:"egg_hr"})])}const ve={userInfo:"https://pc-api.xuexi.cn/open/api/user/info",totalScore:"https://pc-proxy-api.xuexi.cn/delegate/score/get",todayScore:"https://pc-proxy-api.xuexi.cn/delegate/score/today/query",taskList:"https://pc-proxy-api.xuexi.cn/delegate/score/days/listScoreProgress?sence=score&deviceType=2",todayNews:["https://www.xuexi.cn/lgdata/35il6fpn0ohq.json","https://www.xuexi.cn/lgdata/1ap1igfgdn2.json","https://www.xuexi.cn/lgdata/vdppiu92n1.json","https://www.xuexi.cn/lgdata/152mdtl3qn1.json"],todayVideos:["https://www.xuexi.cn/lgdata/525pi8vcj24p.json","https://www.xuexi.cn/lgdata/11vku6vt6rgom.json","https://www.xuexi.cn/lgdata/2qfjjjrprmdh.json","https://www.xuexi.cn/lgdata/3o3ufqgl8rsn.json","https://www.xuexi.cn/lgdata/591ht3bc22pi.json","https://www.xuexi.cn/lgdata/1742g60067k.json","https://www.xuexi.cn/lgdata/1novbsbi47k.json"],paperList:"https://pc-proxy-api.xuexi.cn/api/exam/service/paper/pc/list",answerSave:"https://a6.qikekeji.com/txt/data/save",answerSearch:"https://a6.qikekeji.com/txt/data/detail",push:"https://www.pushplus.plus/send",generateQRCode:"https://login.xuexi.cn/user/qrcode/generate",loginWithQRCode:"https://login.xuexi.cn/login/login_with_qr",sign:"https://pc-api.xuexi.cn/open/api/sns/sign",secureCheck:"https://pc-api.xuexi.cn/login/secure_check",qrcode:"https://api.qrserver.com/v1/create-qr-code"};function pe(e,t,a){return`<div\n    style="\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      padding: 1px 0;\n    "\n  >\n    <span>${e}</span>\n    <span>${ge(`${t}`)} / ${a}</span>\n  </div>\n  <div\n    style="\n      background: white;\n      border-radius: 10px;\n      height: 10px;\n      border: 1px solid #eee;\n      flex-shrink: 1;\n    "\n  >\n    <div\n      style="\n        background: linear-gradient(to left, #188fff80, #1890ff);\n        height: 100%;\n        width: ${(100*t/a).toFixed(1)}%;\n        border-radius: 10px;\n      "\n    ></div>\n  </div>`}function ge(e){return`<span style="color: #1890ff">${e}</span>`}async function fe(e){const{title:t,content:a,template:n,fromToken:i,toToken:o}=e,s=await async function(e,t,a,n,i){try{const o={token:e,title:t,content:a,template:n};i&&(o.to=i);const s=await fetch(ve.push,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(s.ok)return await s.json()}catch(e){}}(i,t,a,n,o);return s}async function he(e,t,a){const n=function(e){const{title:t,subTitle:a="",to:n="用户",content:i,type:o,from:s="tech-study-plugin"}=e;let c="";c=Array.isArray(i)?i.map((e=>`<div>${e}</div>`)).join(""):i;const l=ee();let r="";return o&&o.length&&("info"===o&&(r='\n      <svg\n       viewBox="64 64 896 896"\n       style="color: #1890ff; width: 18px; height: 18px"\n       fill="currentColor"\n       aria-hidden="true"\n     >\n       <path\n         d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"\n       ></path>\n     </svg>'),"warn"===o&&(r='\n      <svg\n        viewBox="64 64 896 896"\n        style="color: #faad14; width: 18px; height: 18px"\n        fill="currentColor"\n        aria-hidden="true"\n      >\n        <path\n          d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"\n        ></path>\n      </svg>\n      '),"success"===o&&(r='\n      <svg\n        viewBox="64 64 896 896"\n        style="color: #52c41a; width: 18px; height: 18px"\n        fill="currentColor"\n        aria-hidden="true"\n      >\n        <path\n          d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"\n        ></path>\n      </svg>\n      '),"fail"===o&&(r='\n      <svg\n        viewBox="64 64 896 896"\n        style="color: #ff4d4f; width: 18px; height: 18px"\n        fill="currentColor"\n        aria-hidden="true"\n      >\n        <path\n          d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"\n        ></path>\n      </svg>\n      ')),`\n  <div\n  style="\n    padding: 5px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  "\n>\n  <div\n    style="\n      background: #ffffff;\n      box-shadow: 1px 1px 8px -1px #dadada;\n      padding: 5px 10px;\n      border-radius: 5px;\n      width: 100%;\n    "\n  >\n    <div\n      style="\n        display: flex;\n        justify-content: space-between;\n        padding: 5px;\n        border-bottom: 1px solid #eee;\n      "\n    >\n      <div style="display: flex; justify-content: center; align-items: center">\n        \n  <span\n    style="\n      padding-right: 5px;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    "\n  >\n    ${r}\n  </span>\n  \n        <span style="padding-left: 5px; font-size: 18px">${t}</span>\n      </div>\n      <div style="font-size: 16px; color: #999">${a}</div>\n    </div>\n    <div></div>\n\n    <div style="padding:10px 5px; font-size: 16px; min-height: 80px">\n      <div>\n        ${ge(n)}, 你好!\n      </div>\n      <div style="line-height: 28px;">${c}</div>\n    </div>\n    <div\n      style="\n        font-size: 14px;\n        padding: 5px;\n        border-top: 1px solid #eee;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n      "\n    >\n      <div style="color: #999">${l}</div>\n      <div>\n        <span>来自</span>\n        <span style="color: #1890ff; padding-left: 1px">${s}</span>\n      </div>\n    </div>\n  </div>\n</div>  \n  `}(e),i=await fe({title:"消息提示",content:n,fromToken:t,toToken:a,template:"html"});if(i&&200===i.code)return i}function ye(){const{login:e,tabId:t,settings:a,pushToken:n,notify:i}=Q,o=d(!1),s=d(""),{addListener:c,removeAllListeners:l}=function(){const e=[];return{listeners:e,addListener(t,a,n){const i=N(8);e.push({id:i,action:t,callback:a,cancel:oe(t,a,n)})},removeAllListeners(){for(;;){const t=e.pop();if(!t)break;t.cancel()}},removeListener(t){const a=e.findIndex((e=>e.id===t));-1!==a&&(e[a].cancel(),e.splice(a,1))}}}();return M("div",void 0,{class:"egg_login_item"},[M("button",void 0,{type:"button",class:"egg_login_btn",onclick:$((()=>{ie("login",{type:"tab",id:t.value,data:null})}),300)},D(x((()=>o.value?"刷新二维码":"扫码登录")))),M("div",void 0,{class:x((()=>"egg_login_img_wrap"+(o.value?" active":"")))},M("img",void 0,{class:"egg_login_img",src:s}))],{onMounted(){c("qrcode",(async e=>{const{src:c,url:l,revoked:r}=e;if(r)return void ie("login",{type:"tab",id:t.value,data:null});if((await K()).height.value=810,s.value=c,o.value=!0,a[V.REMOTE_PUSH]){if(!n.value)return void i({title:"推送提示",message:"推送 token 不存在!"});const e=function(e){return`\n   <div>\n      或在浏览器\n      <a\n        href="dtxuexi://appclient/page/study_feeds?url=${encodeURIComponent(e)}"\n        style="text-decoration: none"\n      >${ge("打开学习强国APP")}</a\n      >\n    </div>\n  `}(l),t=function(e){return`\n     <div style="padding: 10px 0">\n     <div\n       style="\n         display: flex;\n         justify-content: center;\n         align-items: center;\n         padding: 20px;\n         background: #f7f7f7;\n         border-radius: 10px;\n       "\n     >\n         <img src="${e}" style="width:200px;height:200px;" />\n       </div>\n     </div>\n`}(c),a=await he({title:"登录推送",content:["扫一扫, 登录学习强国!",e,t],type:"info"},n.value);i({title:"推送提示",message:`推送${a?"成功":"失败"}!`})}})),c("login",(async t=>{o.value=!1,s.value="",e.value=t;(await K()).height.value=700}))},beforeDestroy(){l()}})}function me({tip:e}){return M("button",void 0,{type:"button",class:"egg_detail",title:e},D("i"))}function we({tip:e="",checked:t=!1,disabled:a=!1,onchange:n}){return M("input",{checked:t},{title:e,class:"egg_switch",type:"checkbox",disabled:a,onchange:n})}function be({title:e,tip:t,checked:a,onchange:n}){return M("div",void 0,{class:"egg_setting_item"},[M("div",void 0,{class:"egg_label_wrap"},[M("label",void 0,{class:"egg_task_title"},[D(e),me({tip:t})])]),we({tip:t,checked:a,onchange:n})])}function _e({show:e}){const{taskConfig:t,todayScore:a}=Q;return M("div",void 0,{class:x((()=>"egg_score_panel"+(e.value?" active":"")))},[M("div",void 0,{class:"egg_score_title"},[z({paths:["M314.81 304.01h415.86v58.91H314.81zM314.81 440.24h415.86v58.91H314.81z","M814.8 892.74h-8.64l-283.51-182-283.51 182h-8.64A69.85 69.85 0 0 1 160.72 823V188.22a69.85 69.85 0 0 1 69.77-69.77H814.8a69.85 69.85 0 0 1 69.77 69.77V823a69.85 69.85 0 0 1-69.77 69.74zM230.5 177.35a10.87 10.87 0 0 0-10.86 10.86V823a10.86 10.86 0 0 0 5 9.11l298.01-191.42 298.06 191.38a10.86 10.86 0 0 0 5-9.11V188.22a10.87 10.87 0 0 0-10.86-10.86z"]}),M("div",void 0,{class:"egg_score_title_text"},D("积分详情"))]),...t.map((e=>M("div",void 0,{class:"egg_score_detail_item"},[D(e.title),M("span",void 0,void 0,D(x((()=>e.currentScore))))]))),M("div",void 0,{class:"egg_score_detail_item"},[D("其他"),M("span",void 0,void 0,D(x((()=>a.value-t.reduce(((e,t)=>e+t.currentScore),0)))))])])}function xe(){const{todayScore:e,totalScore:t,login:a}=Q,n=d(!1);return M("div",void 0,{class:"egg_score_item"},M("div",void 0,{class:"egg_scoreinfo"},[M("div",void 0,{class:"egg_total_score"},[D("总积分"),M("span",void 0,void 0,D(t))]),M("button",void 0,{class:"egg_today_score",type:"button",onclick:$((()=>{n.value=!n.value}),300),onblur(){n.value=!1}},[D("当天分数"),M("span",void 0,void 0,D(e)),z({paths:["M332.16 883.84a40.96 40.96 0 0 0 58.24 0l338.56-343.04a40.96 40.96 0 0 0 0-58.24L390.4 140.16a40.96 40.96 0 0 0-58.24 58.24L640 512l-307.84 314.24a40.96 40.96 0 0 0 0 57.6z"]}),_e({show:n})])]),{onMounted(){b((()=>{a.value||(e.value=0,t.value=0)}))}})}function Me({data:e,maxlength:t,placeholder:a="",onchange:n,value:i,keep:o}){const s=y(e.map((e=>({selected:!1,active:!1,ele:null,...e})))),c=i?.value?x((()=>i.value)):d(null),l=x((()=>s.find((e=>e.value===c.value))?.label||null)),r=d(!1),u=d(l),v=d(0);return w((()=>s.map((e=>[e.active,e.selected]))),(()=>s.forEach((e=>(e.selected||e.active)&&(v.value=e.ele?.offsetTop||0))))),M("div",void 0,{class:"egg_select"},[M("input",{value:u},{class:"egg_select_input",type:"text",placeholder:a,maxlength:t,onfocus(){if(r.value=!0,c.value){const e=s.findIndex((e=>e.value===c.value));e+1&&(u.value=s[e].label,s.forEach(((t,a)=>t.selected=a===e)))}},oninput(e){const t=e.target;u.value=t.value;const a=s.findIndex((e=>e.label.includes(t.value)));u.value?a+1&&s.forEach(((e,t)=>{e.active=t===a,e.active&&setTimeout((()=>{e.active=!1}),100)})):(s.forEach((e=>e.active=e.selected=!1)),v.value=0)},onblur(){if(o){const e=s.find((e=>e.value===c.value));u.value=e?.label||null}setTimeout((()=>{r.value=!1}),100)}}),M("div",{scrollTop:v},{class:x((()=>"egg_select_list"+(r.value?" active":"")))},s.map(((e,t)=>M("button",void 0,{type:"button",class:_((()=>[e.selected,e.active]),(()=>"egg_select_item"+(e.selected?" selected":e.active?" active":""))),ref:t=>e.ele=t,onclick(){u.value!==e.label&&(u.value=e.label,s.forEach(((e,a)=>e.selected=a===t)),n&&n({label:e.label,value:e.value})),r.value=!1}},D(e.label)))))])}function Se({settingsShow:e,themeColor:t,settings:a}){const n=[{value:"#fa3333",title:"强国红",detail:"XueXi Red",code:"none"},{value:"#bb2649",title:"非凡洋红",detail:"Viva Magenta",code:"18-1750"},{value:"#35548a",title:"经典蓝",detail:"Classic Blue",code:"19-4052"},{value:"#f36f63",title:"活珊瑚橘",detail:"Living Coral",code:"16-1546"},{value:"#6d5b97",title:"紫外光色",detail:"Ultra Violet",code:"18-3838"},{value:"#86af49",title:"草木绿",detail:"Greenery",code:"15-0343"},{value:"#fc8bab",title:"B站粉",detail:"Bilibili Pink",code:"none"},{value:"#056de8",title:"知乎蓝",detail:"Zhihu Blue",code:"none"}],{maxRead:i,maxWatch:o,pushToken:s,notify:c}=Q,l=x((()=>s.value||null));return M("div",void 0,{class:x((()=>"egg_settings_panel_wrap"+(e.value?" active":"")))},M("div",void 0,{class:"egg_settings_panel"},[M("div",void 0,{class:"egg_back_wrap"},[M("button",void 0,{class:"egg_btn",title:"返回",type:"button",onclick:$((()=>{e.value=!1}),300)},z({paths:["M942.545455 478.021818H165.748364l361.239272-361.192727a34.909091 34.909091 0 1 0-49.384727-49.384727L56.785455 488.261818a33.838545 33.838545 0 0 0-7.493819 11.264 34.536727 34.536727 0 0 0 7.493819 38.120727l420.817454 420.817455a34.816 34.816 0 0 0 49.338182 0 34.909091 34.909091 0 0 0 0-49.384727l-361.239273-361.192728h776.843637a34.909091 34.909091 0 0 0 0-69.864727z"]})),D("设置")]),M("div",void 0,{class:"egg_settings_content"},[M("div",void 0,{class:"egg_settings_version_wrap"},[M("div",void 0,{class:"egg_settings_label"},D("版本信息")),M("div",void 0,{class:"egg_settings_version"},[D(`v${P.version}`),M("button",void 0,{type:"button",class:"egg_settings_version_detail",title:"GitHub Xu22Web/tech-study-plugin",onclick(){chrome.tabs.create({url:"https://github.com/Xu22Web/tech-study-plugin",active:!0})}},z({paths:["M8 0c4.42 0 8 3.58 8 8a8.013 8.013 0 0 1-5.45 7.59c-.4.08-.55-.17-.55-.38 0-.27.01-1.13.01-2.2 0-.75-.25-1.23-.54-1.48 1.78-.2 3.65-.88 3.65-3.95 0-.88-.31-1.59-.82-2.15.08-.2.36-1.02-.08-2.12 0 0-.67-.22-2.2.82-.64-.18-1.32-.27-2-.27-.68 0-1.36.09-2 .27-1.53-1.03-2.2-.82-2.2-.82-.44 1.1-.16 1.92-.08 2.12-.51.56-.82 1.28-.82 2.15 0 3.06 1.86 3.75 3.64 3.95-.23.2-.44.55-.51 1.07-.46.21-1.61.55-2.33-.66-.15-.24-.6-.83-1.23-.82-.67.01-.27.38.01.53.34.19.73.9.82 1.13.16.45.68 1.31 2.69.94 0 .67.01 1.3.01 1.49 0 .21-.15.45-.55.38A7.995 7.995 0 0 1 0 8c0-4.42 3.58-8 8-8Z"],viewBox:"0 0 16 16"}))])]),M("div",void 0,{class:"egg_settings_theme_wrap"},[M("div",void 0,{class:"egg_settings_title"},[M("div",void 0,{class:"egg_settings_label"},D("主题预设")),M("div",void 0,{class:"egg_settings_current_theme"},D(x((()=>n.find((e=>e.value===t.value)).title))))]),M("div",void 0,{class:"egg_settings_theme_colors"},n.map((e=>M("div",void 0,{class:"egg_settings_theme_color_wrap",style:`--color: ${e.value}`},M("button",void 0,{class:x((()=>"egg_settings_theme_color"+(t.value===e.value?" active":""))),type:"button",title:e.title,onclick:$((()=>{t.value!==e.value&&(t.value=e.value,le("themeColor",t),c({title:"主题设置",message:`主题色已保存为${e.title}`}))}),300)})))))]),M("div",void 0,{class:"egg_settings_read_time_wrap"},[M("div",void 0,{class:"egg_settings_label"},D("最大文章时长")),Me({data:[{label:"40s",value:40},{label:"60s",value:60},{label:"80s",value:80},{label:"100s",value:100}],value:i,placeholder:"100s",maxlength:4,keep:!0,onchange({value:e}){i.value=e,le("maxRead",i),c({title:"时间设置",message:`最大文章选读时间改为${e}s`})}})]),M("div",void 0,{class:"egg_settings_watch_time_wrap"},[M("div",void 0,{class:"egg_settings_label"},D("最大视听时长")),Me({data:[{label:"40s",value:40},{label:"60s",value:60},{label:"80s",value:80},{label:"100s",value:100},{label:"120s",value:120}],value:o,placeholder:"120s",maxlength:4,keep:!0,onchange({value:e}){o.value=e,le("maxWatch",o),c({title:"时间设置",message:`最大视听学习时间改为${e}s`})}})]),x((()=>a[V.REMOTE_PUSH]?M("div",void 0,{class:"egg_settings_token_wrap"},[M("div",void 0,{class:"egg_settings_token"},[M("div",void 0,{class:"egg_settings_label"},D("我的 token")),M("div",void 0,{class:"egg_settings_token_input_wrap"},M("input",{value:l},{class:"egg_settings_token_input",type:"text",placeholder:"token",maxlength:32,pattern:"^[0-9a-z]{32}$",required:!0,oninput(e){const t=e.target;l.value=t.value},onblur(){if(null!==l.value){if(/^[0-9a-z]{32}$/.test(l.value))return void(s.value!==l.value&&(s.value=l.value,le("pushToken",s),c({title:"推送设置",message:"token 保存成功!"})));if(""===l.value)return s.value="",l.value=null,le("pushToken",s),void c({title:"推送设置",message:"token 删除成功!"});l.value=s.value,c({title:"推送设置",message:"token 有误!"})}}}))])]):void 0))])]))}async function ke(e,t){await chrome.debugger.sendCommand({tabId:e},"Input.dispatchMouseEvent",t)}async function Ee(e,t){await chrome.debugger.sendCommand({tabId:e},"Input.dispatchKeyEvent",t)}async function Ce(e,t){await chrome.debugger.sendCommand({tabId:e},"Input.dispatchTouchEvent",t)}function Ie(e){return{dispatchKeyEvent:t=>Ee(e,t),dispatchKeyPressEvent:t=>async function(e,t){await Ee(e,{type:"keyDown",...t}),await Ee(e,{type:"keyUp",...t})}(e,t),dispatchKeyInputEvent:t=>async function(e,t){for(const a of t)await Ee(e,{type:"char",...a})}(e,t),dispatchMouseClickEvent:t=>async function(e,t){await ke(e,{type:"mousePressed",...t}),await ke(e,{type:"mouseReleased",...t})}(e,t),dispatchMouseEvent:t=>ke(e,t),dispatchMouseMoveEvent:t=>async function(e,t){await ke(e,{type:"mouseMoved",...t})}(e,t),dispatchMouseWheelEvent:t=>async function(e,t){"up"!==t.direction?"down"!==t.direction||await ke(e,{type:"mouseWheel",deltaX:-0,deltaY:100,...t}):await ke(e,{type:"mouseWheel",deltaX:-0,deltaY:-100,...t})}(e,t),dispatchMouseSlideEvent:t=>async function(e,t){await ke(e,{type:"mousePressed",...t[0]});for(const a of t)await ke(e,{type:"mouseMoved",...a});await ke(e,{type:"mouseReleased",...t[t.length-1]})}(e,t),dispatchTouchSlideEvent:t=>async function(e,t){await Ce(e,{type:"touchStart",...t[0]});for(const a of t)await Ce(e,{type:"touchMove",...a});await Ce(e,{type:"touchEnd",...t[t.length-1]})}(e,t),dispatchTouchTapEvent:t=>async function(e,t){await Ce(e,{type:"touchStart",...t}),await Ce(e,{type:"touchEnd",...t})}(e,t),dispatchTouchEvent:t=>Ce(e,t)}}function Ae(e){return{getDocument:t=>async function(e,t){return await chrome.debugger.sendCommand({tabId:e},"DOM.getDocument",t)}(e,t),querySelector:t=>async function(e,t){return await chrome.debugger.sendCommand({tabId:e},"DOM.querySelector",t)}(e,t),querySelectorAll:t=>async function(e,t){return await chrome.debugger.sendCommand({tabId:e},"DOM.querySelectorAll",t)}(e,t),getBoxModel:t=>async function(e,t){return await chrome.debugger.sendCommand({tabId:e},"DOM.getBoxModel",t)}(e,t),focus:t=>async function(e,t){return await chrome.debugger.sendCommand({tabId:e},"DOM.focus",t)}(e,t)}}async function De(e,t){const{getDocument:a,querySelector:n,querySelectorAll:i,getBoxModel:o,focus:s}=Ae(e),{root:{nodeId:c}}=await a(t);return{querySelector:e=>n({nodeId:c,selector:e}),querySelectorAll:e=>i({nodeId:c,selector:e}),getBoxModel:e=>o({nodeId:e}),focus:e=>s({nodeId:e})}}function Te(e){const{x:t,y:a,width:n,height:i}=e;return{x:t+Math.random()*n*.5+.25*n,y:a+Math.random()*i*.5+.25*i}}function Re(){const{taskConfig:e,todayScore:t,totalScore:a,tabId:n,maxRead:i,maxWatch:o,settings:s,isBlack:c,userInfo:l,pushToken:r,notify:u}=Q,v=B(),p=d(G.LOADING),g=d(!1),f=()=>e.every((e=>!e.active||e.active&&e.status)),h=async()=>{te("获取任务进度...");try{const t=await se("getTaskProgress",{type:"tab",id:n.value,data:null});if(t){const{taskProgress:a,inBlackList:n}=t;return a.forEach(((t,a)=>{e[a].currentScore=t.currentScore,e[a].dayMaxScore=t.dayMaxScore,e[a].status=t.status,e[a].need=t.need})),c.value=n,void te("获取任务进度成功!")}}catch(e){}ae("获取任务进度失败!")},y=async()=>{te("获取总分...");try{const e=await se("getTotalScore",{type:"tab",id:n.value,data:null});if(e)return a.value=e,void te("获取总分成功!")}catch(e){}ae("获取总分失败!")},m=async()=>{te("获取当天分数...");try{const e=await se("getTodayScore",{type:"tab",id:n.value,data:null});if(e)return t.value=e,void te("获取当天分数成功!")}catch(e){}ae("获取当天分数失败!")},S=()=>Promise.all([h(),m(),y()]),k=async()=>{await W((()=>(g.value&&te("等待中..."),!g.value)));try{const t=await se("getNews",{type:"tab",id:n.value,data:e[F.READ].need}),a=await K();for(const n in t){te(`阅读第${Number(n)+1}篇文章`),v.create({title:"文章选读",type:"info",message:`阅读第 ${Number(n)+1} 篇文章`}),await W((()=>(g.value&&te("等待中..."),!g.value)));const o=await chrome.tabs.create({url:t[n].url,active:!0}),s=o.id;await chrome.tabs.update(s,{autoDiscardable:!1});let c=!1;a.height.value=720,await chrome.debugger.attach({tabId:s},"1.3");try{if(!await W((async()=>{try{return await se("load",{type:"tab",id:s})}catch(e){return!1}}),6e3))throw ae("页面加载失败!"),v.create({title:"文章选读",type:"fail",message:"页面加载失败!"}),new Error("页面加载失败!");const{dispatchMouseWheelEvent:e}=Ie(s);te("页面加载成功!");const t=await se("getData",{type:"tab",data:{max:i.value,type:X.READ},id:o.id});if(!t)throw ae("获取页面信息失败!"),v.create({title:"文章选读",type:"fail",message:"获取页面信息失败!"}),new Error("获取页面信息失败!");const{height:a,duration:n,innerWidth:l,innerHeight:r}=t,d=Te({x:0,y:0,width:l,height:r}),u=~~(12*a/(120*n)),p=v.create({title:"文章选读",message:"开始倒计时",type:"info",keep:!0}),{wait:f,cancel:h}=O(n,(async(t,a)=>{if(await W((()=>(g.value&&te("等待中..."),!g.value))),te(`剩余${t}s`),p.update({message:`时间剩余 ${t} s`}),(a||t<=0)&&p.destroy(),t&&t%12==0){let t=u;for(;t--;)await e({direction:"down",...d})}}));oe("unload",(async()=>{c||(h(),te("刷新标签页, 取消倒计时"))}),{once:!0}),Y(s,(()=>{c=!0,h(),te("关闭标签页, 取消倒计时")}),{once:!0}),await f()}catch(e){ae(e)}if(c||(await chrome.debugger.detach({tabId:s}),a.height.value=700,c=!0,await chrome.tabs.remove(s)),await S(),!e[F.READ].active||e[F.READ].active&&e[F.READ].status)break}}catch(e){ae("获取新闻失败!",e),v.create({title:"文章选读",type:"fail",message:"获取新闻失败!"})}await W((()=>(g.value&&te("等待中..."),!g.value))),e[F.READ].active&&!e[F.READ].status&&await k()},E=async()=>{await W((()=>(g.value&&te("等待中..."),!g.value)));try{const t=await se("getVideos",{type:"tab",id:n.value,data:e[F.WATCH].need}),a=await K();for(const n in t){te(`观看第${Number(n)+1}个视频`),v.create({title:"视听学习",type:"info",message:`观看第 ${Number(n)+1} 个视频`}),await W((()=>(g.value&&te("等待中..."),!g.value)));const i=(await chrome.tabs.create({url:t[n].url,active:!0})).id;await chrome.tabs.update(i,{autoDiscardable:!1});let c=!1;a.height.value=720,await chrome.debugger.attach({tabId:i},"1.3");try{if(!await W((async()=>{try{return await se("load",{type:"tab",id:i})}catch(e){return!1}}),6e3))throw ae("页面加载失败!"),v.create({title:"视听学习",type:"fail",message:"页面加载失败!"}),new Error("页面加载失败!");te("页面加载成功!");const{dispatchMouseWheelEvent:e,dispatchMouseClickEvent:t}=Ie(i),a=await se("getData",{type:"tab",data:{max:o.value,type:X.WATCH},id:i});if(!a)throw ae("获取页面信息失败!"),v.create({title:"视听学习",type:"fail",message:"获取页面信息失败!"}),new Error("获取页面信息失败!");b((()=>{!c&&ie("muted",{type:"tab",id:i,data:s[V.VIDEO_MUTED]})})),b((()=>{!c&&ie("pause",{type:"tab",id:i,data:g.value})}));const{duration:n,innerWidth:l,innerHeight:r}=a,d=Te({x:0,y:0,width:l,height:r});let u=3;for(;u--;)await e({direction:"down",...d});await t({button:"left",clickCount:1,...d});if(!await W((async()=>{try{return await se("play",{type:"tab",id:i})}catch(e){return!1}}),1e4))throw ae("视频播放失败!"),v.create({title:"视听学习",type:"fail",message:"视频播放失败!"}),new Error("视频播放失败!");te("视频播放成功!");const p=v.create({title:"视听学习",message:"开始倒计时",type:"info",keep:!0}),{wait:f,cancel:h}=O(n,(async(e,t)=>{await W((()=>(g.value&&te("等待中..."),!g.value))),te(`剩余${e}s`),p.update({message:`时间剩余 ${e} s`}),(t||e<=0)&&p.destroy()}));oe("unload",(async()=>{c||(h(),te("刷新标签页, 取消倒计时"))}),{once:!0}),Y(i,(()=>{c=!0,h(),te("关闭标签页, 取消倒计时")}),{once:!0}),await f()}catch(e){ae(e)}if(c||(await chrome.debugger.detach({tabId:i}),a.height.value=700,c=!0,await chrome.tabs.remove(i)),await S(),!e[F.WATCH].active||e[F.WATCH].active&&e[F.WATCH].status)break}}catch(e){ae("获取视频失败!",e),v.create({title:"视听学习",type:"fail",message:"获取视频失败!"})}await W((()=>(g.value&&te("等待中..."),!g.value))),e[F.WATCH].active&&!e[F.WATCH].status&&await E()},C=async e=>{const t=await De(e),{dispatchMouseSlideEvent:a}=Ie(e),n=await t.querySelector(".nc_scale"),i=await t.querySelector(".btn_slide"),{model:o}=await t.getBoxModel(n.nodeId),{model:s}=await t.getBoxModel(i.nodeId),c=H(o),l=function(e,t,a){const n=(t.x-e.x)/a,i=(t.y-e.y)/a,o=[];o.push(e);for(let e=0;e<a;e++){const t=o[e].x+5*Math.random()+n,a=o[e].y+5*Math.random()*Math.pow(-1,~~(2*Math.random()+1))+i;o.push({x:t,y:a})}return o}(Te(H(s)),{x:c.x+c.width,y:c.y+c.height/2},10);await a(l.map((e=>({button:"left",clickCount:1,...e}))))},I=async({doc:e,dispatchMouseClickEvent:t})=>{const a=await e.querySelector(".tips"),{model:n}=await e.getBoxModel(a.nodeId),i=H(n);await W((async()=>{const a=Te(i);await t({button:"left",clickCount:1,...a});return!!(await e.querySelector(".tips.ant-popover-open")).nodeId})),await W((async()=>{const a=Te(i);await t({button:"left",clickCount:1,...a});return!(await e.querySelector(".tips.ant-popover-open")).nodeId}))},A=async({id:e,type:t,doc:a,dispatchMouseClickEvent:n,dispatchKeyInputEvent:i})=>{const o=await se("answers",{type:"tab",id:e});if(te("答案",o),o){if(await L(2e3),await W((()=>(g.value&&te("等待中..."),!g.value))),"多选题"===t){const e=o,{nodeIds:t}=await a.querySelectorAll(".q-answer"),i=e.map((e=>t[e])),s=(await Promise.all(i.map((e=>a.getBoxModel(e))))).map((({model:e})=>Te(H(e))));for(const e of s)await n({button:"left",clickCount:1,...e}),await L(500)}if("单选题"===t){const[e]=o,{nodeIds:t}=await a.querySelectorAll(".q-answer"),{model:i}=await a.getBoxModel(t[e]),s=Te(H(i));await n({button:"left",clickCount:1,...s}),await L(300)}if("填空题"===t){const e=o,{nodeIds:t}=await a.querySelectorAll(".blank");for(const o in t){const s=t[o],c=e[o],{model:l}=await a.getBoxModel(s),r=Te(H(l));await n({button:"left",clickCount:1,...r}),await L(300);const d=c.split("");await i(d.map((e=>({text:e})))),await L(300)}}}},T=async()=>{await W((()=>(g.value&&te("等待中..."),!g.value)));const t=await K(),a=(await chrome.tabs.create({url:U.examPractice,active:!0})).id;await chrome.tabs.update(a,{autoDiscardable:!1});let n=!1;Y(a,(()=>{n=!0,te("关闭标签页")}),{once:!0}),t.height.value=720,await chrome.debugger.attach({tabId:a},"1.3");try{if(!await W((async()=>{try{return await se("load",{type:"tab",id:a})}catch(e){return!1}}),1e4))throw ae("题目加载失败!"),v.create({title:"答题",type:"fail",message:"题目加载失败!"}),new Error("题目加载失败!");te("题目加载成功!");const{dispatchMouseWheelEvent:e,dispatchMouseClickEvent:t,dispatchKeyInputEvent:i}=Ie(a);let o=4;for(;o--;)await e({direction:"down",x:120,y:120});await se("wheel",{type:"tab",id:a});const s=await De(a);for(;!n;){await W((()=>(g.value&&te("等待中..."),!g.value)));let e=await se("next",{type:"tab",id:a});if(["再练一次","再来一组","查看解析"].includes(e))break;const{type:n,total:o,current:c}=await se("questionData",{type:"tab",id:a});if(te(`${c}/${o} 题型: ${n}`),v.create({title:"答题",type:"info",message:`${c}/${o} 题型: ${n}`}),await I({doc:s,dispatchMouseClickEvent:t}),await A({id:a,doc:s,type:n,dispatchMouseClickEvent:t,dispatchKeyInputEvent:i}),e=await se("next",{type:"tab",id:a}),"确定"===e){const{nodeId:e}=await s.querySelector(".next-btn"),{model:a}=await s.getBoxModel(e),n=Te(H(a));await t({button:"left",clickCount:1,...n})}if(e=await se("next",{type:"tab",id:a}),"下一题"===e||"完成"===e||"交卷"===e){await L(2500);const{nodeId:e}=await s.querySelector(".next-btn"),{model:a}=await s.getBoxModel(e),n=Te(H(a));await t({button:"left",clickCount:1,...n})}if(c===o){if(await se("slideVerify",{type:"tab",id:a})){te("处理滑动验证..."),v.create({title:"答题",type:"info",message:"处理滑动验证"}),await L(2e3),await C(a),await L(2e3);const e=await se("slideVerify",{type:"tab",id:a});te("滑动验证"+(e?"失败":"成功")),v.create({title:"答题",type:e?"fail":"success",message:"滑动验证"+(e?"失败":"成功")})}}}te("答题结束!")}catch(e){ae(e)}if(n||(await chrome.debugger.detach({tabId:a}),t.height.value=700,n=!0,await chrome.tabs.remove(a)),await W((()=>(g.value&&te("等待中..."),!g.value))),await S(),e[F.PRACTICE].active&&!e[F.PRACTICE].status)return await T()},R=async()=>{if(p.value=G.PROGRESS,e[F.READ].active&&!e[F.READ].status&&await k(),e[F.WATCH].active&&!e[F.WATCH].status&&await E(),e[F.PRACTICE].active&&!e[F.PRACTICE].status&&await T(),f()&&(p.value=G.FINISH,s[V.REMOTE_PUSH])){if(!l.value)return void u({title:"推送提示",message:"用户信息不存在!"});if(!r.value)return void u({title:"推送提示",message:"推送 token 不存在!"});const n=await he({title:"学习推送",to:l.value.nick,content:["学习强国, 学习完成!",`当天积分:  ${ge(t.value)} 分`,`总积分: ${ge(a.value)} 分`,...e.map((e=>pe(e.title,e.currentScore,e.dayMaxScore)))],type:"success"},r.value);u({title:"推送提示",message:`推送${n?"成功":"失败"}!`})}},P=()=>{p.value=G.PAUSE,g.value=!0},N=()=>{p.value=G.PROGRESS,g.value=!1};return M("div",void 0,{class:"egg_study_item"},M("button",void 0,{class:x((()=>"egg_study_btn"+(p.value===G.PROGRESS?" loading":""))),type:"button",disabled:_(p,(()=>p.value===G.LOADING||p.value===G.FINISH)),onclick:x((()=>p.value===G.START?$(R,300):p.value===G.PROGRESS?$(P,300):p.value===G.PAUSE?$(N,300):void 0))},D(x((()=>""+(p.value===G.LOADING?"等待中":p.value===G.START?"开始学习":p.value===G.PROGRESS?"正在学习, 点击暂停":p.value===G.PAUSE?"继续学习":p.value===G.FINISH?"已完成":""))))),{async onMounted(){if(await(async()=>{te("获取用户信息...");try{const e=await se("getUserInfo",{type:"tab",id:n.value});if(e)return l.value=e,void te("获取用户信息成功!")}catch(e){}ae("获取用户信息失败!")})(),await S(),w((()=>e.map((e=>e.active))),(async()=>{if(p.value===G.LOADING||p.value===G.FINISH){if(f())return void(p.value=G.FINISH);p.value=G.START}}),!0),s[V.REMOTE_PUSH]){if(!l.value)return void u({title:"推送提示",message:"用户信息不存在!"});if(!r.value)return void u({title:"推送提示",message:"推送 token 不存在!"});const n=f(),i=await he({title:"学习推送",to:l.value.nick,content:[`学习强国, 学习${ge(n?"完成":"未完成")}!`,`当天积分:  ${ge(t.value)} 分`,`总积分: ${ge(a.value)} 分`,...e.map((e=>pe(e.title,e.currentScore,e.dayMaxScore)))],type:"success"},r.value);u({title:"推送提示",message:`推送${i?"成功":"失败"}!`})}}})}function Pe(){const{taskConfig:e,login:t,notify:a}=Q;return M("div",void 0,{class:"egg_task_list"},e.map((t=>function({title:e,tip:t,checked:a,currentScore:n,dayMaxScore:i,onchange:o,disabled:s}){return M("div",void 0,{class:"egg_task_item"},[M("div",void 0,{class:"egg_label_wrap"},[M("div",void 0,{class:"egg_task_title_wrap"},[M("div",void 0,{class:"egg_task_title"},D(e)),M("div",void 0,{class:"egg_task_progress_wrap"},[M("div",void 0,{class:"egg_task_current"},D(n)),M("div",void 0,{class:"egg_task_max"},D(x((()=>`/${i.value}`))))])]),M("div",void 0,{class:"egg_progress"},[M("div",void 0,{class:"egg_track"},M("div",void 0,{class:"egg_bar",style:x((()=>`width: ${(100*n.value/i.value).toFixed(1)}%;`))}))])]),we({tip:t,checked:a,disabled:s,onchange:o})])}({title:t.title,tip:t.tip,checked:x((()=>t.active)),disabled:x((()=>t.disabled)),currentScore:x((()=>t.currentScore)),dayMaxScore:x((()=>t.dayMaxScore)),onchange:$((n=>{((t,n,i)=>{const{checked:o}=t.target;e[n].active!==o&&(e[n].active=o,le("taskConfig",e),a({id:i,title:"任务设置",message:`${i} ${o?"打开":"关闭"}`}))})(n,t.type,t.title)}),300)}))),{onMounted(){b((()=>!t.value&&e.forEach((e=>{e.currentScore=0,e.dayMaxScore=0,e.status=!1}))))}})}T(M("div",void 0,{class:"egg_message_wrap"},_((()=>j.map((e=>e))),(()=>j.map((e=>M("div",void 0,{class:x((()=>"egg_message_item_wrap"+(e.active?" active":"")))},M("div",void 0,{class:"egg_message_item"},[M("div",void 0,{class:"egg_message_head_wrap"},[M("div",void 0,{class:x((()=>`egg_message_head ${e.type}`))},["info"===e.type||"warn"===e.type?z({paths:["M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"],viewBox:"64 64 896 896"}):"success"===e.type?z({paths:["M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"],viewBox:"64 64 896 896"}):z({paths:["M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"],viewBox:"64 64 896 896"}),M("div",void 0,{class:"egg_message_title"},D(x((()=>e.title))))]),M("button",void 0,{type:"button",class:"egg_message_head_extra",onclick(){e.destroy()}},z({paths:["M579.392 511.296l429.376 428.544a48.128 48.128 0 0 1-34.176 82.304c-12.8 0-25.088-5.12-34.112-14.208L511.168 579.392 81.792 1008a48.32 48.32 0 0 1-67.648-0.576 48.128 48.128 0 0 1-0.64-67.52L442.88 511.296 13.568 82.752A48.128 48.128 0 0 1 14.08 15.168 48.32 48.32 0 0 1 81.792 14.592l429.376 428.544L940.48 14.592a48.32 48.32 0 0 1 67.648 0.64c18.624 18.56 18.88 48.64 0.64 67.52L579.392 511.296z"]}))]),M("div",void 0,{class:"egg_message_content"},D(x((()=>e.message))))],{beforeCreat(){e.destroyed||(e.active=e.mounted)},onMounted(){e.destroyed||e.mounted||(e.mounted=!0,e.active||requestAnimationFrame((()=>{e.show()})))}}),{onDestroyed(){e.mounted&&e.destroyed&&(e.removed=!0)}}))))))),T(async function(){const{tabId:e,login:t,themeColor:a,settings:n,taskConfig:i,maxRead:o,maxWatch:s,pushToken:c,notify:l}=Q,r=[{title:"视频静音",tip:"视听学习时，静音播放视频",type:V.VIDEO_MUTED}],u=[{title:"随机作答",tip:"无答案时, 随机选择或者填入答案, 不保证正确",type:V.RANDOM_EXAM},{title:"自动答题",tip:"进入答题页面时，自动答题并提交答案",type:V.AUTO_ANSWER}],v=[{title:"远程推送",tip:"利用 pushplus 推送, 将登录二维码直接推送到微信公众号",type:V.REMOTE_PUSH}],p=d(!1),g=(e,t,a)=>{const{checked:i}=e.target;n[t]!==i&&(n[t]=i,le("settings",n),l({id:a,title:"设置",message:`${a} ${i?"打开":"关闭"}`}))},f=async()=>{const e=await re("taskConfig");try{e&&i.length===e.length&&i.forEach(((t,a)=>{t.active=e[a].active}))}catch(e){i.forEach((e=>{e.active=!0}))}},h=async()=>{const e=await re("settings");try{e&&n.length===e.length&&n.forEach(((t,a)=>n[a]=e[a]))}catch(e){n.fill(!1)}},y=async()=>{const e=await re("maxRead");e&&(o.value=e),de("maxRead",(e=>{e&&(o.value=e)}))},m=async()=>{const e=await re("maxWatch");e&&(s.value=e),de("newWatch",(e=>{e&&(s.value=e)}))},w=async()=>{const e=await re("pushToken");e&&(c.value=e)},S=async()=>{const e=await re("themeColor");e&&(a.value=e),de("themeColor",(e=>{e&&(a.value=e)}))},k=async()=>{te("被动断开连接!"),l({title:"连接提示",message:"已断开连接!"}),e.value=0,t.value=!1;(await K()).height.value=700},E=async()=>{const{value:e}=await chrome.cookies.get({url:U.home,name:"token"})||{};e&&(t.value=!0)};return await Promise.all([S(),f(),h(),y(),m(),w()]),(()=>{let t=!1,a=-1,n=-1;oe("connect",((e,i)=>{i.tab?.id&&(t?ie("occupied",{type:"tab",id:i.tab.id,data:null}):(t||(t=!0,n=i.tab.id,a=setTimeout((()=>{t=!1,n=-1}),3e3)),te("正在连接..."),ie("connecting",{type:"tab",id:i.tab.id,data:null})))})),oe("connected",(async(i,o)=>{if(!o.tab?.id)return;if(o.tab.id!==n)return;clearTimeout(a),n=-1,te("已连接!"),l({title:"连接提示",message:"已连接!"});const{id:s}=o.tab;e.value=s,await chrome.tabs.update(s,{autoDiscardable:!1}),E(),Y(s,(()=>{t=!1,k()}),{once:!0}),oe("disconnect",((e,a)=>{a.tab?.id&&s===a.tab.id&&(t=!1,k())}),{once:!0})}))})(),M("div",void 0,{class:"egg_panel",style:x((()=>`--themeColor: ${a.value}`))},[M("div",void 0,{class:"egg_tool_bar_wrap"},[M("div",void 0,{class:"egg_indicator_wrap"},[M("div",void 0,{class:x((()=>"egg_indicator"+(e.value?" active":"")))}),M("div",void 0,{class:"egg_indicator_status"},D(x((()=>e.value?" 已连接":"未连接"))))]),M("div",void 0,{class:"egg_feature_wrap"},[M("button",void 0,{class:"egg_btn",title:"重置",type:"button",onclick:$((()=>{i.forEach((e=>{!e.disabled&&(e.active=!0)})),n.fill(!1),o.value=80,s.value=100,a.value="#fa3333",c.value="",ce().clear()}),300)},z({paths:["M930.816609 339.889816V379.21591H90.455424v-39.326094h840.361185m9.363355-65.543491H81.092069c-31.016116 0-56.180135 28.558235-56.180135 63.787862v42.837353C24.911934 416.201166 50.075953 444.759401 81.092069 444.759401h859.087895c31.016116 0 56.180135-28.558235 56.180135-63.787861v-42.837353c0-35.229626-25.164019-63.787861-56.180135-63.787862z","M966.280319 1024h-0.234084l-906.255801-6.554349a33.122871 33.122871 0 0 1-24.929935-11.821237 32.771745 32.771745 0 0 1-7.139558-26.685564l98.549319-563.205852a32.771745 32.771745 0 1 1 64.490114 11.236027L98.999487 952.136244l827.954737 5.969139-95.974397-530.902274a32.771745 32.771745 0 0 1 64.490113-11.704195l103.113956 569.877243a32.888787 32.888787 0 0 1-32.303577 38.623843z","M283.69168 1001.996114a29.962739 29.962739 0 0 1-4.564636-0.351126 28.090067 28.090067 0 0 1-23.291347-32.186536l61.798148-380.854497a28.090067 28.090067 0 1 1 55.360841 9.01223L311.31358 978.470682a27.973025 27.973025 0 0 1-27.6219 23.525432zM566.1139 333.218425h-114.935193a32.771745 32.771745 0 0 1-32.771745-32.771745V90.239342a90.239342 90.239342 0 1 1 180.478683 0v210.207338a32.771745 32.771745 0 0 1-32.771745 32.771745z m-82.163448-65.543491h49.391702V90.239342a24.695851 24.695851 0 1 0-49.391702 0z"]})),M("button",void 0,{class:"egg_btn",title:"设置",type:"button",onclick:$((()=>{p.value=!0}),300)},z({paths:["M7.25325 705.466473a503.508932 503.508932 0 0 0 75.26742 121.391295 95.499302 95.499302 0 0 0 93.211173 31.07039 168.59902 168.59902 0 0 1 114.527206 16.257763 148.487566 148.487566 0 0 1 71.052444 83.456515 91.163899 91.163899 0 0 0 75.989987 61.538643 578.053784 578.053784 0 0 0 148.969278 0A91.163899 91.163899 0 0 0 662.380873 957.642436a148.487566 148.487566 0 0 1 72.256723-83.456515 168.59902 168.59902 0 0 1 114.406478-16.257763 95.61973 95.61973 0 0 0 93.331601-31.07039 503.508932 503.508932 0 0 0 75.267419-121.391295 84.29951 84.29951 0 0 0-18.545892-94.897163 138.251197 138.251197 0 0 1 0-197.140426 84.29951 84.29951 0 0 0 18.545892-94.897163 503.508932 503.508932 0 0 0-75.869559-121.391295 95.499302 95.499302 0 0 0-93.211173-31.070391A168.59902 168.59902 0 0 1 734.637596 149.812272a148.848849 148.848849 0 0 1-72.256723-83.456515A91.163899 91.163899 0 0 0 586.631741 4.817115a581.907476 581.907476 0 0 0-148.969277 0A91.163899 91.163899 0 0 0 361.311193 66.355757a148.848849 148.848849 0 0 1-71.413728 83.456515 168.59902 168.59902 0 0 1-114.406478 16.257763 95.378874 95.378874 0 0 0-93.3316 31.070391A503.508932 503.508932 0 0 0 7.25325 318.531721a84.29951 84.29951 0 0 0 18.545893 94.897163 140.057615 140.057615 0 0 1 41.30676 98.509999 140.057615 140.057615 0 0 1-41.30676 98.630427A84.29951 84.29951 0 0 0 7.25325 705.466473z m929.462315-349.240828a219.901294 219.901294 0 0 0 0 312.028615c0.842995 0.842995 2.649413 3.010697 1.806418 5.057971a427.398517 427.398517 0 0 1-63.104205 101.520696 9.513802 9.513802 0 0 1-9.032091 2.167702 255.547944 255.547944 0 0 0-173.777418 24.928569 231.823653 231.823653 0 0 0-111.275354 130.302957 6.984817 6.984817 0 0 1-6.021394 4.937543 492.790851 492.790851 0 0 1-126.328837 0 6.984817 6.984817 0 0 1-6.021394-4.937543 231.823653 231.823653 0 0 0-111.275353-130.302957 255.668372 255.668372 0 0 0-120.427872-30.468252 258.919924 258.919924 0 0 0-52.747408 5.539683 9.513802 9.513802 0 0 1-9.03209-2.167702 427.398517 427.398517 0 0 1-63.104205-101.520696c-0.842995-2.047274 0.963423-4.214976 1.806418-5.057971a221.82814 221.82814 0 0 0 64.910623-156.556233 221.707712 221.707712 0 0 0-65.512762-155.713238c-0.842995-0.842995-2.649413-3.010697-1.806418-5.057971a427.398517 427.398517 0 0 1 63.104205-101.520696 9.393374 9.393374 0 0 1 8.911662-2.167701 255.7888 255.7888 0 0 0 173.897847-24.92857 231.823653 231.823653 0 0 0 111.275353-130.302957 6.984817 6.984817 0 0 1 6.021394-4.937543 492.790851 492.790851 0 0 1 126.328837 0 6.984817 6.984817 0 0 1 6.021394 4.937543 231.823653 231.823653 0 0 0 111.275354 130.302957 255.547944 255.547944 0 0 0 173.777418 24.92857 9.513802 9.513802 0 0 1 9.032091 2.167701 423.063113 423.063113 0 0 1 62.983777 101.520696c0.963423 2.047274-0.842995 4.214976-1.68599 5.057971z","M512.086889 305.766366a206.292944 206.292944 0 1 0 206.172516 206.172517 206.413372 206.413372 0 0 0-206.172516-206.172517z m123.197713 206.172517a123.197713 123.197713 0 1 1-123.197713-123.077285 123.318141 123.318141 0 0 1 123.197713 123.077285z"]}))])]),_((()=>[e.value,t.value]),(()=>e.value&&!t.value?ye():void 0)),_((()=>[e.value,t.value]),(()=>e.value&&t.value?function(){const{login:e,tabId:t,isBlack:a,userInfo:n}=Q;return M("div",void 0,{class:"egg_user_item"},x((()=>n.value?[M("div",void 0,{class:"egg_userinfo"},[M("div",void 0,{class:"egg_avatar"},[x((()=>n.value.avatarMediaUrl?M("img",void 0,{src:n.value.avatarMediaUrl,class:"egg_avatar_img",title:"用户头像",alt:"用户头像"}):M("div",void 0,{class:"egg_avatar_nick",title:"用户头像"},D(n.value.nick.substring(1,3))))),M("div",void 0,{title:`用户状态 (${a.value?"封禁":"正常"})`,class:x((()=>"egg_status"+(a.value?" deactive":" active")))})]),M("div",void 0,{class:"egg_nick",title:"用户昵称"},D(n.value.nick))]),M("button",void 0,{type:"button",class:"egg_logout_btn",onclick:$((()=>{ie("logout",{type:"tab",id:t.value,data:null}),e.value=!1}),300)},D("退出"))]:void 0)),{onMounted(){b((()=>!e.value&&(n.value=null)))}})}():void 0)),xe(),ue({text:"任务"}),Pe(),ue({text:"运行"}),M("div",void 0,{class:"egg_run_list"},r.map((e=>be({title:e.title,tip:e.tip,checked:x((()=>n[e.type])),onchange:$((t=>{g(t,e.type,e.title)}),300)})))),ue({text:"答题"}),M("div",void 0,{class:"egg_exam_list"},u.map((e=>be({title:e.title,tip:e.tip,checked:x((()=>n[e.type])),onchange:$((t=>{g(t,e.type,e.title)}),300)})))),ue({text:"推送"}),M("div",void 0,{class:"egg_push_list"},v.map((e=>be({title:e.title,tip:e.tip,checked:x((()=>n[e.type])),onchange:$((t=>{g(t,e.type,e.title)}),300)})))),_((()=>[e.value,t.value]),(()=>e.value&&t.value?Re():void 0)),Se({settingsShow:p,settings:n,themeColor:a}),M("div",void 0,{class:"egg_footer_item"},[z({viewBox:"0 0 762 52.917",paths:["M0 0c22.863 0 40.637 25.93 63.5 25.93S104.137 0 127 0s40.637 25.93 63.5 25.93S231.137 0 254 0s40.637 25.93 63.5 25.93S358.137 0 381 0s40.637 25.93 63.5 25.93S485.137 0 508 0s40.637 25.93 63.5 25.93S612.137 0 635 0s40.637 25.93 63.5 25.93S739.137 0 762 0v52.917H0z"]}),z({viewBox:"0 0 762 52.917",paths:["M0 0c22.863 0 40.637 25.93 63.5 25.93S104.137 0 127 0s40.637 25.93 63.5 25.93S231.137 0 254 0s40.637 25.93 63.5 25.93S358.137 0 381 0s40.637 25.93 63.5 25.93S485.137 0 508 0s40.637 25.93 63.5 25.93S612.137 0 635 0s40.637 25.93 63.5 25.93S739.137 0 762 0v52.917H0z"]})])])}(),document.querySelector("#app"));
